spring.config.import=optional:file:.env[.properties]
spring.application.name=TaskUp

# 1. The URL (Keep the sslmode, but remove user/password from this line)
spring.datasource.url=${DB_CONNECTION_STRING}

# 2. The Username (Crucial: The pooler needs the ".project-id" at the end)
spring.datasource.username=${DB_USERNAME}
# 3. The Password (Replace the brackets and text with your actual password)
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# 4. Critical Pooler Setting
# This prevents errors caused by the pooler trying to reuse 'prepared statements'
# which are not supported in Supabase's Transaction Mode.
spring.datasource.hikari.data-source-properties.prepareThreshold=0

# This will automatically create the table if it doesn't exist
spring.jpa.hibernate.ddl-auto=update

# Optional: This shows the SQL in your console so you can see the table being created

spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
